/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/typescript@5.3.3/lib/cancellationToken.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
"use strict";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of __getOwnPropNames(t))__hasOwnProp.call(e,n)||n===r||__defProp(e,n,{get:()=>t[n],enumerable:!(o=__getOwnPropDesc(t,n))||o.enumerable});return e},__toESM=(e,t,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?r:__defProp(r,"default",{value:e,enumerable:!0}),e)),fs=__toESM(require("fs"));function pipeExists(e){return fs.existsSync(e)}function createCancellationToken(e){let t;for(let r=0;r<e.length-1;r++)if("--cancellationPipeName"===e[r]){t=e[r+1];break}if(!t)return{isCancellationRequested:()=>!1,setRequest:e=>{},resetRequest:e=>{}};if("*"===t.charAt(t.length-1)){const e=t.slice(0,-1);if(0===e.length||e.includes("*"))throw new Error("Invalid name for template cancellation pipe: it should have length greater than 2 characters and contain only one '*'.");let r,o;return{isCancellationRequested:()=>void 0!==r&&pipeExists(r),setRequest(t){o=t,r=e+t},resetRequest(e){if(o!==e)throw new Error(`Mismatched request id, expected ${o}, actual ${e}`);r=void 0}}}return{isCancellationRequested:()=>pipeExists(t),setRequest:e=>{},resetRequest:e=>{}}}module.exports=createCancellationToken;
//# sourceMappingURL=/sm/e446ae69b028743f564e34c9df0e6f55149b36c3948310f501ccec95c722cded.map